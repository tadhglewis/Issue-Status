(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1930:function(e,t,n){Promise.resolve().then(n.bind(n,9003))},5143:function(e,t,n){"use strict";n.d(t,{F:function(){return p},e:function(){return f}});var a=n(5862),r=n(7058),s=n(6450),i=n.n(s);let o=new(n(5115)).v,l=async(e,t)=>{let n=localStorage.getItem(e),a=n?JSON.parse(n):null;if(a&&i()().isBefore(a.expireAt))return a.data;let r=await t();return localStorage.setItem(e,JSON.stringify({data:r,expireAt:i()().add(10,"minutes")})),r},u={getComponents:async()=>{let{data:e}=await l("components",async()=>await o.rest.issues.listForRepo({owner:"tadhglewis",repo:"issue-status",labels:"issue status,component"}));return e.map(e=>{let t=new Map([["operational","operational"],["performance issues","performanceIssues"],["partial outage","partialOutage"],["major outage","majorOutage"],["unknown","unknown"]]),n=e.labels.reduce((e,n)=>{var a;if("unknown"!==e)return e;let r="string"==typeof n?n:n.name;return e=r&&null!==(a=t.get(r))&&void 0!==a?a:"unknown"},"unknown");return{id:e.id.toString(),name:e.title,status:n}})},getIncidents:async()=>{let{data:e}=await l("incidents",async()=>await o.rest.issues.listForRepo({owner:"tadhglewis",repo:"issue-status",labels:"issue status,incident",state:"all"}));return e.map(e=>{var t;return{id:e.id.toString(),title:e.title,description:null!==(t=e.body)&&void 0!==t?t:"",createdAt:e.created_at,active:!e.closed_at}})}},c=(0,r.createContext)(void 0),d=()=>u,p=e=>{let{children:t}=e,n=d(),[s,i]=(0,r.useState)({loading:!0,components:void 0,incidents:void 0});return(0,r.useEffect)(()=>{(async()=>{i({loading:!1,components:await n.getComponents(),incidents:await n.getIncidents()})})()},[n]),(0,a.jsx)(c.Provider,{value:s,children:t})},f=()=>{let e=(0,r.useContext)(c);if(!e)throw Error("DataProvider was not provided");return e}},9003:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(5862),r=n(5839),s=n.n(r),i=n(5143),o=n(7058),l=n(3568),u=n(1070);let c=e=>{let{children:t}=e,[n]=(0,o.useState)(()=>new u.qH);return(0,l.useServerInsertedHTML)(()=>{let e=n.getStyleElement();return n.instance.clearTag(),(0,a.jsx)(a.Fragment,{children:e})}),(0,a.jsx)(a.Fragment,{children:t})},d=u.ZP.div.withConfig({componentId:"sc-50cf7b70-0"})(["max-width:600px;padding:16px;margin:16px auto;"]),p=u.ZP.body.withConfig({componentId:"sc-50cf7b70-1"})(["background-color:#f5f8fa;"]);function f(e){let{children:t}=e;return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)(c,{children:(0,a.jsx)(p,{className:s().className,children:(0,a.jsx)(i.F,{children:(0,a.jsx)(d,{children:t})})})})})}},5839:function(e){e.exports={style:{fontFamily:"'__Roboto_324942', '__Roboto_Fallback_324942'",fontStyle:"normal"},className:"__className_324942"}}},function(e){e.O(0,[978,465,158,660,744],function(){return e(e.s=1930)}),_N_E=e.O()}]);