(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9112:function(e,t,o){Promise.resolve().then(o.bind(o,2623))},5143:function(e,t,o){"use strict";o.d(t,{F:function(){return u},e:function(){return x}});var n=o(5862),r=o(7058),s=o(6450),i=o.n(s);let a=new(o(5115)).v,c=async(e,t)=>{let o=localStorage.getItem(e),n=o?JSON.parse(o):null;if(n&&i()().isBefore(n.expireAt))return n.data;let r=await t();return localStorage.setItem(e,JSON.stringify({data:r,expireAt:i()().add(10,"minutes")})),r},d={getComponents:async()=>{let{data:e}=await c("components",async()=>await a.rest.issues.listForRepo({owner:"tadhglewis",repo:"issue-status",labels:"issue status,component"}));return e.map(e=>{let t=new Map([["operational","operational"],["performance issues","performanceIssues"],["partial outage","partialOutage"],["major outage","majorOutage"],["unknown","unknown"]]),o=e.labels.reduce((e,o)=>{var n;if("unknown"!==e)return e;let r="string"==typeof o?o:o.name;return e=r&&null!==(n=t.get(r))&&void 0!==n?n:"unknown"},"unknown");return{id:e.id.toString(),name:e.title,status:o}})},getIncidents:async()=>{let{data:e}=await c("incidents",async()=>await a.rest.issues.listForRepo({owner:"tadhglewis",repo:"issue-status",labels:"issue status,incident",state:"all"}));return e.map(e=>{var t;return{id:e.id.toString(),title:e.title,description:null!==(t=e.body)&&void 0!==t?t:"",createdAt:e.created_at,active:!e.closed_at}})}},l=(0,r.createContext)(void 0),p=()=>d,u=e=>{let{children:t}=e,o=p(),[s,i]=(0,r.useState)({loading:!0,components:void 0,incidents:void 0});return(0,r.useEffect)(()=>{(async()=>{i({loading:!1,components:await o.getComponents(),incidents:await o.getIncidents()})})()},[o]),(0,n.jsx)(l.Provider,{value:s,children:t})},x=()=>{let e=(0,r.useContext)(l);if(!e)throw Error("DataProvider was not provided");return e}},2623:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return R}});var n=o(5862),r=o(5143),s=o(1070);let i=s.ZP.div.withConfig({componentId:"sc-316f2df2-0"})(["padding:5px 12px;border-radius:16px;font-size:13px;transition:0.3s;"]),a=(0,s.ZP)(i).withConfig({componentId:"sc-316f2df2-1"})(["color:",";background-color:",";"],e=>e.theme.colors.operational.text,e=>e.theme.colors.operational.background),c=(0,s.ZP)(i).withConfig({componentId:"sc-316f2df2-2"})(["color:",";background-color:",";"],e=>e.theme.colors.performanceIssues.text,e=>e.theme.colors.performanceIssues.background),d=(0,s.ZP)(i).withConfig({componentId:"sc-316f2df2-3"})(["color:",";background-color:",";"],e=>e.theme.colors.partialOutage.text,e=>e.theme.colors.partialOutage.background),l=(0,s.ZP)(i).withConfig({componentId:"sc-316f2df2-4"})(["color:",";background-color:",";"],e=>e.theme.colors.majorOutage.text,e=>e.theme.colors.majorOutage.background),p=(0,s.ZP)(i).withConfig({componentId:"sc-316f2df2-5"})(["color:",";background-color:",";"],e=>e.theme.colors.unknown.text,e=>e.theme.colors.unknown.background),u=e=>{let{status:t}=e;return({operational:(0,n.jsx)(a,{children:"Operational"}),performanceIssues:(0,n.jsx)(c,{children:"Performance Issues"}),partialOutage:(0,n.jsx)(d,{children:"Partial Outage"}),majorOutage:(0,n.jsx)(l,{children:"Major Outage"}),unknown:(0,n.jsx)(p,{children:"Unknown"})})[t]},x=s.ZP.div.withConfig({componentId:"sc-d7748325-0"})(["background-color:",";padding:8px 16px;border-radius:3px;justify-content:space-between;align-items:center;display:flex;color:",";"],e=>e.theme.colors.body,e=>e.theme.colors.text),h=e=>{let{name:t,status:o}=e;return(0,n.jsxs)(x,{children:[t," ",(0,n.jsx)(u,{status:o})]})},g=s.ZP.div.withConfig({componentId:"sc-62c91af1-0"})(["background-color:rgb(61,167,81);color:white;padding:16px;border-radius:3px;margin-bottom:32px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;transition:0.3s;"]),m=s.ZP.h2.withConfig({componentId:"sc-62c91af1-1"})(["font-size:20px;margin:0;font-weight:normal;"]),f=()=>(0,n.jsx)(g,{children:(0,n.jsx)(m,{children:"All Systems Operational"})}),b=s.ZP.div.withConfig({componentId:"sc-3e5bb2ef-0"})(["width:100%;height:44px;border-radius:3px;background-color:",";"],e=>e.theme.colors.body),w={large:32,medium:16,small:8},j=s.ZP.div.withConfig({componentId:"sc-8feae665-0"})(["display:flex;flex-direction:column;row-gap:","px;justify-content:space-between;"],e=>{var t;return w[null!==(t=e.$space)&&void 0!==t?t:"small"]}),v=s.ZP.div.withConfig({componentId:"sc-650df6c5-0"})(["box-shadow:0px 0px 33px -32px rgba(0,0,0,0.75);border-radius:3px;background-color:",";padding:16px;"],e=>e.theme.colors.content),I=()=>{let{components:e,loading:t}=(0,r.e)();return(0,n.jsxs)(v,{children:[(0,n.jsx)(f,{}),(0,n.jsx)(j,{children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{}),(0,n.jsx)(b,{}),(0,n.jsx)(b,{})]}):e.map(e=>(0,n.jsx)(h,{...e},e.id))})]})};o(7058);var k=o(5525),C=o(6450),P=o.n(C);let y=s.ZP.div.withConfig({componentId:"sc-dda4bbd5-0"})(["transition:0.3s;border-left:16px solid ",";background-color:",";border-radius:3px;padding:16px;box-shadow:0px 0px 33px -32px rgba(0,0,0,0.75);"],e=>e.$active?"rgba(73, 144, 226, 0.2)":"rgba(177, 177, 177,0.2)",e=>e.theme.colors.content),Z=s.ZP.div.withConfig({componentId:"sc-dda4bbd5-1"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:3px;"]),O=s.ZP.div.withConfig({componentId:"sc-dda4bbd5-2"})(["margin-right:16px;font-weight:bold;color:",";"],e=>e.theme.colors.text),S=s.ZP.div.withConfig({componentId:"sc-dda4bbd5-3"})(["color:",";"],e=>e.theme.colors.text),_=(0,s.ZP)(i).withConfig({componentId:"sc-dda4bbd5-4"})(["color:",";background-color:",";"],e=>e.$active?e.theme.colors.status.active.text:e.theme.colors.status.closed.text,e=>e.$active?e.theme.colors.status.active.background:e.theme.colors.status.closed.background),$=s.ZP.div.withConfig({componentId:"sc-dda4bbd5-5"})(["font-size:13px;color:#6e6b6b;font-weight:bold;"]),A=e=>{let{title:t,active:o,description:r,createdAt:s}=e;return(0,n.jsxs)(y,{$active:o,children:[(0,n.jsxs)(Z,{children:[(0,n.jsx)($,{children:P()(s).format("MMMM D, YYYY h:mm A")}),(0,n.jsx)(_,{$active:o,children:o?"Active":"Closed"})]}),(0,n.jsx)(O,{children:t}),(0,n.jsx)(S,{children:(0,n.jsx)(k.U,{children:r})})]})},M=s.ZP.div.withConfig({componentId:"sc-aab14f61-0"})(["width:100%;height:84px;border-radius:3px;background-color:",";box-shadow:0px 0px 33px -32px rgba(0,0,0,0.75);"],e=>e.theme.colors.body),z=s.ZP.div.withConfig({componentId:"sc-a449a06b-0"})(["padding:0 16px;font-size:20px;color:",";"],e=>e.theme.colors.text),E=()=>{let{incidents:e,loading:t}=(0,r.e)();return(0,n.jsxs)(j,{$space:"medium",children:[(0,n.jsx)(z,{children:"Incidents"}),(0,n.jsx)(j,{children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M,{}),(0,n.jsx)(M,{})]}):e.map(e=>(0,n.jsx)(A,{...e},e.id))})]})},F=s.ZP.h1.withConfig({componentId:"sc-99392dc3-0"})(["color:",";"],e=>e.theme.colors.text),N=()=>(0,n.jsx)(F,{children:"Issue Status"}),Y=s.ZP.div.withConfig({componentId:"sc-f927a30c-0"})(["display:flex;flex-direction:column;"]),D=s.ZP.a.withConfig({componentId:"sc-f927a30c-1"})(["color:",";font-size:13px;text-decoration:none;transition:0.3s;display:block;align-self:end;&:hover{opacity:0.9;}"],e=>e.theme.colors.hintText),J=()=>(0,n.jsx)(Y,{children:(0,n.jsx)(D,{rel:"noopener",target:"_blank",href:"https://github.com/tadhglewis/issue-status",children:"Powered by Issue Status"})});function R(){return(0,n.jsxs)(j,{$space:"large",children:[(0,n.jsx)(N,{}),(0,n.jsx)(I,{}),(0,n.jsx)(E,{}),(0,n.jsx)(J,{})]})}}},function(e){e.O(0,[465,525,158,660,744],function(){return e(e.s=9112)}),_N_E=e.O()}]);