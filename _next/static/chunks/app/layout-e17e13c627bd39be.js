(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1930:function(e,t,n){Promise.resolve().then(n.bind(n,5526))},5143:function(e,t,n){"use strict";n.d(t,{F:function(){return g},e:function(){return b}});var r=n(5862),a=n(7058),o=n(6450),s=n.n(o);let i=new(n(5115)).v,c=async(e,t)=>{let n=localStorage.getItem(e),r=n?JSON.parse(n):null;if(r&&s()().isBefore(r.expireAt))return r.data;let a=await t();return localStorage.setItem(e,JSON.stringify({data:a,expireAt:s()().add(10,"minutes")})),a},l={getComponents:async()=>{let{data:e}=await c("components",async()=>await i.rest.issues.listForRepo({owner:"tadhglewis",repo:"issue-status",labels:"issue status,component"}));return e.map(e=>{let t=new Map([["operational","operational"],["performance issues","performanceIssues"],["partial outage","partialOutage"],["major outage","majorOutage"],["unknown","unknown"]]),n=e.labels.reduce((e,n)=>{var r;if("unknown"!==e)return e;let a="string"==typeof n?n:n.name;return e=a&&null!==(r=t.get(a))&&void 0!==r?r:"unknown"},"unknown");return{id:e.id.toString(),name:e.title,status:n}})},getIncidents:async()=>{let{data:e}=await c("incidents",async()=>await i.rest.issues.listForRepo({owner:"tadhglewis",repo:"issue-status",labels:"issue status,incident",state:"all"}));return e.map(e=>{var t;return{id:e.id.toString(),title:e.title,description:null!==(t=e.body)&&void 0!==t?t:"",createdAt:e.created_at,active:!e.closed_at}})}},d=(0,a.createContext)(void 0),u=()=>l,g=e=>{let{children:t}=e,n=u(),[o,s]=(0,a.useState)({loading:!0,components:void 0,incidents:void 0});return(0,a.useEffect)(()=>{(async()=>{s({loading:!1,components:await n.getComponents(),incidents:await n.getIncidents()})})()},[n]),(0,r.jsx)(d.Provider,{value:o,children:t})},b=()=>{let e=(0,a.useContext)(d);if(!e)throw Error("DataProvider was not provided");return e}},5526:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(5862),a=n(5839),o=n.n(a),s=n(5143),i=n(7058),c=n(3568),l=n(1070);let d=e=>{let{children:t}=e,[n]=(0,i.useState)(()=>new l.qH);return(0,c.useServerInsertedHTML)(()=>{let e=n.getStyleElement();return n.instance.clearTag(),(0,r.jsx)(r.Fragment,{children:e})}),(0,r.jsx)(r.Fragment,{children:t})},u={dark:{colors:{body:"rgb(28, 31, 32)",content:"rgb(24, 26, 27)",text:"rgb(213, 209, 204)",hintText:"rgb(158, 158, 158)",operational:{text:"rgb(136, 218, 153)",background:"rgba(61, 167, 81, 0.1)"},performanceIssues:{text:"rgb(174 207 234)",background:"rgba(73, 144, 226, 0.1)"},partialOutage:{text:"rgb(212, 183, 136)",background:"rgba(255, 198, 103, 0.1)"},majorOutage:{text:"rgb(231 168 161)",background:"rgba(217, 68, 48, 0.1)"},unknown:{text:"rgb(163, 156, 144)",background:"rgba(177, 177, 177, 0.1)"},status:{active:{text:"rgb(135, 178, 214)",background:"rgba(73, 144, 226, 0.1)"},closed:{text:"rgb(163, 156, 144)",background:"rgba(177, 177, 177, 0.1)"}}}},light:{colors:{body:"#f5f8fa",content:"#ffffff",text:"#1e1e1e",hintText:"#1e1e1e",operational:{text:"#247234",background:"rgba(61, 167, 81, 0.1)"},performanceIssues:{text:"#2f5888",background:"rgba(73, 144, 226, 0.1)"},partialOutage:{text:"#74582a",background:"rgba(255, 198, 103, 0.1)"},majorOutage:{text:"#8e3b31",background:"rgba(217, 68, 48, 0.1)"},unknown:{text:"#6e6b6b",background:"rgba(177, 177, 177, 0.1)"},status:{active:{text:"rgb(47, 88, 136)",background:"rgba(73, 144, 226, 0.1)"},closed:{text:"rgb(110, 107, 107)",background:"rgba(177, 177, 177, 0.1)"}}}}},g=e=>{let{children:t}=e,[n,a]=(0,i.useState)(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark");return(0,i.useEffect)(()=>{let e=e=>{a(e.matches?"light":"dark")};return window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",e),()=>{window.matchMedia("(prefers-color-scheme: light)").removeEventListener("change",e)}}),(0,r.jsx)(l.f6,{theme:u[n],children:t})},b=l.ZP.div.withConfig({componentId:"sc-5d4dc907-0"})(["max-width:600px;padding:16px;margin:16px auto;"]),m=l.ZP.body.withConfig({componentId:"sc-5d4dc907-1"})(["background-color:",";"],e=>e.theme.colors.body);function f(e){let{children:t}=e;return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)(d,{children:(0,r.jsx)(g,{children:(0,r.jsx)(m,{className:o().className,children:(0,r.jsx)(s.F,{children:(0,r.jsx)(b,{children:t})})})})})})}},5839:function(e){e.exports={style:{fontFamily:"'__Roboto_2178dd', '__Roboto_Fallback_2178dd'",fontStyle:"normal"},className:"__className_2178dd"}}},function(e){e.O(0,[978,465,158,660,744],function(){return e(e.s=1930)}),_N_E=e.O()}]);